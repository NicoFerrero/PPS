<ion-header>
  <ion-toolbar>
    <ion-title>Registro</ion-title>
    <ion-buttons slot="start">
      <ion-back-button text="volver" defaultHref="listado"></ion-back-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content style="--ion-background-color: #bae1ff">
  <ion-card style="--ion-background-color: white">
    <ion-card-content>
      <form [formGroup]="registroForm" (ngSubmit)="onRegister()">
        <ion-item-divider color="secondary">
          <ion-label class="ion-text-center"> Informacion para el registro </ion-label>
        </ion-item-divider>
        <ion-item>
          <ion-icon name="at-outline" slot="start"></ion-icon>
          <ion-input
            formControlName="email"
            type="email"
            placeholder="Inserte su email"
          ></ion-input>
        </ion-item>
        <ion-label
          *ngIf="f.email.touched && f.email.errors?.required"
          color="danger"
          style="margin-left: 22%"
          >El mail es requerido</ion-label
        >
        <ion-label
          *ngIf="f.email.touched && f.email.errors?.email"
          color="danger"
          style="margin-left: 22%"
          >El formato del email es incorrecto</ion-label
        >
        <ion-item>
          <ion-icon name="lock-closed-outline" slot="start"></ion-icon>
          <ion-input
            formControlName="password"
            type="password"
            placeholder="Inserte su contraseña"
          ></ion-input>
        </ion-item>
        <ion-label
          *ngIf="f.password.touched && f.password.errors?.required"
          color="danger"
          style="margin-left: 22%"
          >La contraseña es requerida</ion-label
        >
        <ion-label
          *ngIf="f.password.touched && f.password.errors?.minlength"
          color="danger"
          style="margin-left: 22%"
          >Los caracteres minimos son 6</ion-label
        >
        <ion-label
          *ngIf="f.password.touched && f.password.errors?.maxlength"
          color="danger"
          style="margin-left: 22%"
          >Los caracteres maximos son 10</ion-label
        >
        <ion-item>
          <!-- <ion-icon name="lock-closed-outline" slot="start"></ion-icon> -->
          <ion-icon name="" slot="start"></ion-icon>
          <ion-input
            formControlName="confirmPassword"
            type="password"
            placeholder="Confirme su contraseña"
          ></ion-input>
        </ion-item>
        <ion-label
          *ngIf="f.confirmPassword.touched && f.confirmPassword.errors?.required"
          color="danger"
          style="margin-left: 22%"
          >La contraseña es requerida</ion-label
        >
        <ion-label
          *ngIf="f.confirmPassword.touched && f.confirmPassword.errors?.minlength"
          color="danger"
          style="margin-left: 22%"
          >Los caracteres minimos son 6</ion-label
        >
        <ion-label
          *ngIf="f.confirmPassword.touched && f.confirmPassword.errors?.maxlength"
          color="danger"
          style="margin-left: 22%"
          >Los caracteres maximos son 10</ion-label
        >
        <ion-label
          *ngIf="f.confirmPassword.touched && f.confirmPassword.errors?.mustMatch"
          color="danger"
          style="margin-left: 22%"
          >Debe ser igual a la contraseña</ion-label
        >
        <ion-item>
          <ion-icon name="shield-outline" slot="start"></ion-icon>
          <ion-label>Rol</ion-label>
          <ion-select formControlName="tipoUsuario">
            <ion-select-option value="admin">Administrador</ion-select-option>
            <ion-select-option value="user">Usuario</ion-select-option>
          </ion-select>
        </ion-item>
        <ion-label
          *ngIf="f.tipoUsuario.touched && f.tipoUsuario.errors?.required"
          color="danger"
          style="margin-left: 22%"
          >El rol del suaurio es requerido</ion-label
        >
        <!-- <ion-item-divider color="primary" class="ion-margin-top">
          <ion-label class="ion-text-center"> Informacion Personal </ion-label>
        </ion-item-divider> -->
        <ion-item>
          <ion-icon name="person-outline" slot="start"></ion-icon>
          <ion-input
            formControlName="nombre"
            type="text"
            placeholder="Ingrese su nombre"
          ></ion-input>
        </ion-item>
        <ion-label
          *ngIf="f.nombre.touched && f.nombre.errors?.required"
          color="danger"
          style="margin-left: 22%"
          >El nombre es requerido</ion-label
        >
        <ion-item>
          <!-- <ion-icon name="person-outline" slot="start"></ion-icon> -->
          <ion-icon name="" slot="start"></ion-icon>
          <ion-input
            formControlName="apellido"
            type="text"
            placeholder="Ingrese su apellido"
          ></ion-input>
        </ion-item>
        <ion-label
          *ngIf="f.apellido.touched && f.apellido.errors?.required"
          color="danger"
          style="margin-left: 22%"
          >El apellido es requerido</ion-label
        >
        <ion-item>
          <ion-icon name="card-outline" slot="start"></ion-icon>
          <ion-input formControlName="dni" type="text" placeholder="Ingrese su DNI"></ion-input>
          <ion-icon
            slot="end"
            name="barcode-outline"
            style="margin-right: 5px; z-index: 999"
            (click)="prueba()"
            color="success"
            size="large"
          ></ion-icon>
        </ion-item>
        <ion-label
          *ngIf="f.dni.touched && f.dni.errors?.required"
          color="danger"
          style="margin-left: 22%"
          >El DNI es requerido</ion-label
        >
        <ion-label
          *ngIf="f.dni.touched && f.dni.errors?.minlength"
          color="danger"
          style="margin-left: 22%"
          >Los caracteres minimos son 8</ion-label
        >
        <ion-label
          *ngIf="f.dni.touched && f.dni.errors?.maxlength"
          color="danger"
          style="margin-left: 22%"
          >Los caracteres maximos son 8</ion-label
        >
        <ion-item lines="none">
          <ion-icon name="image-outline" slot="start"></ion-icon>
          <ion-input
            formControlName="foto"
            type="file"
            #foto
            (change)="cambioArchivo($event.target.files)"
            id="foto"
          ></ion-input>
          <!-- <ion-icon name="cloud-upload-outline" slot="end"></ion-icon> -->
        </ion-item>
        <ion-radio-group formControlName="sexo">
          <ion-item lines="none">
            <ion-icon name="male-outline" slot="start" color="primary"></ion-icon>
            <ion-label>Masculino</ion-label>
            <ion-radio slot="end" color="primary" value="M"></ion-radio>
          </ion-item>

          <ion-item lines="none">
            <ion-icon name="female-outline" slot="start" color="danger"></ion-icon>
            <ion-label>Femenino</ion-label>
            <ion-radio slot="end" color="danger" value="F"></ion-radio>
          </ion-item>

          <ion-item lines="none">
            <ion-icon name="male-female-outline" slot="start" color="warning"></ion-icon>
            <ion-label>Otro</ion-label>
            <ion-radio slot="end" color="warning" value="O"></ion-radio>
          </ion-item>
        </ion-radio-group>

        <ion-button
          expand="block"
          class="ion-margin-top"
          type="submit"
          [disabled]="registroForm.invalid"
          >Crear Usuario</ion-button
        >
      </form>
      <!-- <ion-button
        expand="block"
        class="ion-margin-top"
        type="button"
        color="success"
        (click)="prueba()"
        ><ion-icon slot="start" name="barcode-outline" style="margin-right: 5px"></ion-icon>Leer
        DNI</ion-button
      > -->
    </ion-card-content>
  </ion-card>
  <ion-fab vertical="bottom" horizontal="start" slot="fixed" (click)="cerrarSesion()">
    <ion-fab-button color="danger">
      <ion-icon name="power-outline"></ion-icon>
    </ion-fab-button>
  </ion-fab>
</ion-content>
